<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.8 plugin-docs plugin-id-default docs-doc-id-api/v3-rancher-api-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Previous v3 Rancher API Guide | Rancher</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ranchermanager.docs.rancher.com/zh/v2.8/api/v3-rancher-api-guide"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="2.8"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.8"><meta data-rh="true" name="docsearch:version" content="2.8"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.8"><meta data-rh="true" property="og:title" content="Previous v3 Rancher API Guide | Rancher"><meta data-rh="true" name="description" content="Rancher v2.8.0 introduced the Rancher Kubernetes API (RK-API). The previous v3 Rancher API is still available. This page describes the v3 API. For more information on RK-API, see the RK-API quickstart and reference guide."><meta data-rh="true" property="og:description" content="Rancher v2.8.0 introduced the Rancher Kubernetes API (RK-API). The previous v3 Rancher API is still available. This page describes the v3 API. For more information on RK-API, see the RK-API quickstart and reference guide."><link data-rh="true" rel="icon" href="/zh/img/favicon.png"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.8/api/v3-rancher-api-guide" hreflang="en"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/zh/v2.8/api/v3-rancher-api-guide" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.8/api/v3-rancher-api-guide" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link data-rh="true" rel="canonical" href="https://ranchermanager.docs.rancher.com/api/v3-rancher-api-guide"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Rancher" href="/zh/opensearch.xml">



<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="0f98beb0-fc4c-417d-a42e-564e2cae42d2" async></script>
<script src="/scripts/optanonwrapper.js" async></script><link rel="stylesheet" href="/zh/assets/css/styles.539b57ae.css">
<link rel="preload" href="/zh/assets/js/runtime~main.774ea973.js" as="script">
<link rel="preload" href="/zh/assets/js/main.65512270.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/zh/v2.8">v2.8</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/zh/api/v3-rancher-api-guide">Latest</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/v2.8/api/v3-rancher-api-guide">v2.8</a></li><li><a class="dropdown__link" href="/zh/v2.7">v2.7</a></li><li><a class="dropdown__link" href="/zh/v2.6">v2.6</a></li><li><a class="dropdown__link" href="/zh/v2.5">v2.5</a></li><li><a class="dropdown__link" href="/zh/v2.0-v2.4">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/zh/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>简体中文</a><ul class="dropdown__menu"><li><a href="/v2.8/api/v3-rancher-api-guide" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/v2.8/api/v3-rancher-api-guide" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">简体中文</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Links</a><ul class="dropdown__menu"><li><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/rancher/rancher-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://elemental.docs.rancher.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__elemental">Elemental<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher__desktop">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.8">什么是 Rancher？</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.8/getting-started/overview">开始使用</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.8/how-to-guides/new-user-guides">操作指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.8/reference-guides/best-practices">参考指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/v2.8/integrations-in-rancher">Rancher 中的集成</a><button aria-label="打开/收起侧边栏菜单「Rancher 中的集成」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.8/faq/general-faq">常见问题</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/v2.8/troubleshooting/general-troubleshooting">故障排除</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/v2.8/api/quickstart">Rancher Kubernetes API</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.8/api/quickstart">API 快速入门指南</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zh/v2.8/api/workflows/projects">工作流程示例</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.8/api/api-reference">API 参考</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/v2.8/api/api-tokens">Using API Tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/v2.8/api/v3-rancher-api-guide">Previous v3 Rancher API Guide</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/v2.8/contribute-to-rancher">参与 Rancher 社区贡献</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Rancher Kubernetes API</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Previous v3 Rancher API Guide</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">版本：v2.8</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Previous v3 Rancher API Guide</h1></header><p>Rancher v2.8.0 introduced the Rancher Kubernetes API (RK-API). The previous v3 Rancher API is still available. This page describes the v3 API. For more information on RK-API, see the <a href="/zh/v2.8/api/quickstart.md">RK-API quickstart</a> and <a href="/zh/v2.8/api/api-reference.mdx">reference guide</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-use-the-api">How to Use the API<a href="#how-to-use-the-api" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>The previous v3 API has its own user interface accessible from a <a href="/zh/v2.8/api/v3-rancher-api-guide#enable-view-in-api">web browser</a>. This is an easy way to see resources, perform actions, and see the equivalent <code>curl</code> or HTTP request &amp; response. To access it:</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Rancher v2.6.4+</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Rancher before v2.6.4</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol><li>Click your user avatar in the upper right corner.</li><li>Click <strong>Account &amp; API Keys</strong>.</li><li>Under the <strong>API Keys</strong> section, find the <strong>API Endpoint</strong> field and click the link. The link looks something like <code>https://&lt;RANCHER_FQDN&gt;/v3</code>, where <code>&lt;RANCHER_FQDN&gt;</code> is the fully qualified domain name of your Rancher deployment.</li></ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Go to the URL endpoint at <code>https://&lt;RANCHER_FQDN&gt;/v3</code>, where <code>&lt;RANCHER_FQDN&gt;</code> is the fully qualified domain name of your Rancher deployment.</p></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>API requests must include authentication information. Authentication is done with HTTP basic authentication using <a href="/zh/v2.8/reference-guides/user-settings/api-keys.md">API keys</a>. API keys can create new clusters and have access to multiple clusters via <code>/v3/clusters/</code>. <a href="/zh/v2.8/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles.md">Cluster and project roles</a> apply to these keys and restrict what clusters and projects the account can see and what actions they can take.</p><p>By default, certain cluster-level API tokens are generated with infinite time-to-live (<code>ttl=0</code>). In other words, API tokens with <code>ttl=0</code> never expire unless you invalidate them. For details on how to invalidate them, refer to the <a href="/zh/v2.8/api/api-tokens">API tokens page</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="making-requests">Making Requests<a href="#making-requests" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>The API is generally RESTful but has several features to make the definition of everything discoverable by a client so that generic clients can be written instead of having to write specific code for every type of resource. For detailed info about the generic API spec, <a href="https://github.com/rancher/api-spec/blob/master/specification.md" target="_blank" rel="noopener noreferrer">see further documentation</a>.</p><ul><li>Every type has a Schema which describes:<ul><li>The URL to get to the collection of this type of resource.</li><li>Every field the resource can have, along with their type, basic validation rules, whether they are required or optional, etc.</li><li>Every action that is possible on this type of resource, with their inputs and outputs (also as schemas).</li><li>Every field that allows filtering.</li><li>What HTTP verb methods are available for the collection itself, or for individual resources in the collection.</li></ul></li></ul><p>The design allows you to load just the list of schemas and access everything about the API. The UI for the API contains no code specific to Rancher itself. The URL to get Schemas is sent in every HTTP response as a <code>X-Api-Schemas</code> header. From there you can follow the <code>collection</code> link on each schema to know where to list resources, and follow other <code>links</code> inside of the returned resources to get any other information.</p><p>In practice, you may just want to construct URL strings. We highly suggest limiting this to the top-level to list a collection (<code>/v3/&lt;type&gt;</code>) or get a specific resource (<code>/v3/&lt;type&gt;/&lt;id&gt;</code>). Anything deeper than that is subject to change in future releases.</p><p>Resources have relationships between each other called links. Each resource includes a map of <code>links</code> with the name of the link and the URL where you can retrieve that information. Again, you should <code>GET</code> the resource and then follow the URL in the <code>links</code> map, not construct these strings yourself.</p><p>Most resources have actions, which do something or change the state of the resource. To use them, send a HTTP <code>POST</code> to the URL in the <code>actions</code> map of the action you want. Certain actions require input or produce output. See the individual documentation for each type or the schemas for specific information.</p><p>To edit a resource, send a HTTP <code>PUT</code> to the <code>links.update</code> link on the resource with the fields that you want to change. If the link is missing then you don&#x27;t have permission to update the resource. Unknown fields and ones that are not editable are ignored.</p><p>To delete a resource, send a HTTP <code>DELETE</code> to the <code>links.remove</code> link on the resource. If the link is missing then you don&#x27;t have permission to update the resource.</p><p>To create a new resource, HTTP <code>POST</code> to the collection URL in the schema (which is <code>/v3/&lt;type&gt;</code>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="filtering">Filtering<a href="#filtering" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Most collections can be filtered on the server-side by common fields using HTTP query parameters. The <code>filters</code> map shows you what fields can be filtered on and what the filtered values were for the request you made. The API UI has controls to setup filtering and show you the appropriate request. For simple &quot;equals&quot; matches it&#x27;s just <code>field=value</code>. Modifiers can be added to the field name, for example, <code>field_gt=42</code> for &quot;field is greater than 42.&quot; See the <a href="https://github.com/rancher/api-spec/blob/master/specification.md#filtering" target="_blank" rel="noopener noreferrer">API spec</a> for full details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sorting">Sorting<a href="#sorting" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>Most collections can be sorted on the server-side by common fields using HTTP query parameters. The <code>sortLinks</code> map shows you what sorts are available, along with the URL to get the collection sorted by that. It also includes info about what the current response was sorted by, if specified.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pagination">Pagination<a href="#pagination" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>API responses are paginated with a limit of 100 resources per page by default. This can be changed with the <code>limit</code> query parameter, up to a maximum of 1000, for example, <code>/v3/pods?limit=1000</code>. The <code>pagination</code> map in collection responses tells you whether or not you have the full result set and has a link to the next page if you do not.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="capturing-v3-api-calls">Capturing v3 API Calls<a href="#capturing-v3-api-calls" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h2><p>You can use browser developer tools to capture how the v3 API is called. For example, you could follow these steps to use the Chrome developer tools to get the API call for provisioning an RKE cluster:</p><ol><li>In the Rancher UI, go to <strong>Cluster Management</strong> and click <strong>Create.</strong></li><li>Click one of the cluster types. This example uses Digital Ocean.</li><li>Fill out the form with a cluster name and node template, but don&#x27;t click <strong>Create</strong>.</li><li>You need to open the developer tools before the cluster creation to see the API call being recorded. To open the tools, right-click the Rancher UI and click <strong>Inspect.</strong></li><li>In the developer tools, click the <strong>Network</strong> tab.</li><li>On the <strong>Network</strong> tab, make sure <strong>Fetch/XHR</strong> is selected.</li><li>In the Rancher UI, click <strong>Create</strong>. In the developer tools, you should see a new network request with the name <code>cluster?_replace=true</code>.</li><li>Right-click <code>cluster?_replace=true</code> and click <strong>Copy &gt; Copy as cURL.</strong></li><li>Paste the result into any text editor. You can see the POST request, including the URL it was sent to, all headers, and the full body of the request. This command can be used to create a cluster from the command line. Note: the request should be stored in a safe place because it contains credentials.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-view-in-api">Enable View in API<a href="#enable-view-in-api" class="hash-link" aria-label="标题的直接链接" title="标题的直接链接">​</a></h3><p>You can also view captured v3 API calls for your respective clusters and resources. This feature is not enabled by default. To enable it:</p><ol><li>Click your <strong>User Tile</strong> in the top right corner of the UI and select <strong>Preferences</strong> from the drop-down menu.</li><li>Under the <strong>Advanced Features</strong> section, click <strong>Enable &quot;View in API&quot;</strong></li></ol><p>Once checked, the <strong>View in API</strong> link is displayed under the <strong>⋮</strong> sub-menu on resource pages in the UI.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.8/api/v3-rancher-api-guide.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">最后<!-- -->于 <b><time datetime="2024-05-13T18:38:14.000Z">2024年5月13日</time></b> <!-- -->更新</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/v2.8/api/api-tokens"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Using API Tokens</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/v2.8/contribute-to-rancher"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">参与 Rancher 社区贡献</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-use-the-api" class="table-of-contents__link toc-highlight">How to Use the API</a></li><li><a href="#authentication" class="table-of-contents__link toc-highlight">Authentication</a></li><li><a href="#making-requests" class="table-of-contents__link toc-highlight">Making Requests</a></li><li><a href="#filtering" class="table-of-contents__link toc-highlight">Filtering</a></li><li><a href="#sorting" class="table-of-contents__link toc-highlight">Sorting</a></li><li><a href="#pagination" class="table-of-contents__link toc-highlight">Pagination</a></li><li><a href="#capturing-v3-api-calls" class="table-of-contents__link toc-highlight">Capturing v3 API Calls</a><ul><li><a href="#enable-view-in-api" class="table-of-contents__link toc-highlight">Enable View in API</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.774ea973.js"></script>
<script src="/zh/assets/js/main.65512270.js"></script>
</body>
</html>