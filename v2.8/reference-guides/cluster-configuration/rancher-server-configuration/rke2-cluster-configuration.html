<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.8 plugin-docs plugin-id-default docs-doc-id-reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">RKE2 Cluster Configuration Reference | Rancher</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ranchermanager.docs.rancher.com/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.8"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.8"><meta data-rh="true" name="docsearch:version" content="2.8"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.8"><meta data-rh="true" property="og:title" content="RKE2 Cluster Configuration Reference | Rancher"><meta data-rh="true" name="description" content="This section covers the configuration options that are available in Rancher for a new or existing RKE2 Kubernetes cluster."><meta data-rh="true" property="og:description" content="This section covers the configuration options that are available in Rancher for a new or existing RKE2 Kubernetes cluster."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/zh/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration" hreflang="zh"><link data-rh="true" rel="alternate" href="https://ranchermanager.docs.rancher.com/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link data-rh="true" rel="canonical" href="https://ranchermanager.docs.rancher.com/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration"><link rel="preconnect" href="https://www.googletagmanager.com">
<script>window.dataLayer=window.dataLayer||[]</script>
<script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-57KS2MW",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>



<link rel="search" type="application/opensearchdescription+xml" title="Rancher" href="/opensearch.xml">



<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="0f98beb0-fc4c-417d-a42e-564e2cae42d2" async></script>
<script src="/scripts/optanonwrapper.js" async></script><link rel="stylesheet" href="/assets/css/styles.b83e5a9c.css">
<link rel="preload" href="/assets/js/runtime~main.9fd75920.js" as="script">
<link rel="preload" href="/assets/js/main.f986f7dc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-57KS2MW" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>


<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.8">v2.8</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration">Latest</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration">v2.8</a></li><li><a class="dropdown__link" href="/v2.7/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration">v2.7</a></li><li><a class="dropdown__link" href="/v2.6/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration">v2.6</a></li><li><a class="dropdown__link" href="/v2.5">v2.5</a></li><li><a class="dropdown__link" href="/v2.0-v2.4">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">简体中文</a></li></ul></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Quick Links</a><ul class="dropdown__menu"><li><a href="https://github.com/rancher/rancher" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/rancher/rancher-docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More from SUSE</a><ul class="dropdown__menu"><li><a href="https://www.rancher.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher">Rancher<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://elemental.docs.rancher.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__elemental">Elemental<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://fleet.rancher.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__fleet">Fleet<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://harvesterhci.io" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__harvester">Harvester<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://rancherdesktop.io/" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__rancher__desktop">Rancher Desktop<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><hr style="margin: 0.3rem 0;"></li><li><a href="https://opensource.suse.com" target="_blank" rel="noopener noreferrer" class="dropdown__link navbar__icon navbar__suse">More Projects...<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.8">What is Rancher?</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.8/getting-started/overview">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.8/how-to-guides/new-user-guides">How-to Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/v2.8/reference-guides/best-practices">Reference Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/best-practices">Best Practice Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Best Practice Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/rancher-manager-architecture">Rancher Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.8/reference-guides/cluster-configuration">Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration">Rancher Server Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Server Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration">RKE Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration">RKE2 Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/k3s-cluster-configuration">K3s Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/eks-cluster-configuration">EKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration">AKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/gke-cluster-configuration">GKE Cluster Configuration Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;GKE Cluster Configuration Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/use-existing-nodes">Use Existing Nodes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Existing Nodes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/sync-clusters">Syncing Hosted Clusters</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/cluster-configuration/downstream-cluster-configuration">Downstream Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Downstream Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/single-node-rancher-in-docker">Single-Node Rancher in Docker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Single-Node Rancher in Docker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/backup-restore-configuration">Backup &amp; Restore Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backup &amp; Restore Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/kubernetes-concepts">Kubernetes Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/monitoring-v2-configuration">Monitoring Configuration Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring Configuration Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/prometheus-federator">Prometheus Federator</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prometheus Federator&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/user-settings">User Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/cli-with-rancher">CLI with Rancher</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI with Rancher&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/about-the-api">About the API</a><button aria-label="Toggle the collapsible sidebar category &#x27;About the API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/rancher-cluster-tools">Cluster Tools for Logging, Monitoring, and Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/rancher-project-tools">Project Tools for Logging, Monitoring, and Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/system-tools">System Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/rke1-template-example-yaml">RKE1 Example YAML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.8/reference-guides/rancher-webhook">Rancher Webhook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.8/reference-guides/rancher-security">Rancher Security Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Security Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.8/integrations-in-rancher">Integrations in Rancher</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations in Rancher&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.8/faq/general-faq">FAQ</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.8/troubleshooting/general-troubleshooting">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/v2.8/api/quickstart">Rancher Kubernetes API</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.8/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Reference Guides</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.8/reference-guides/cluster-configuration"><span itemprop="name">Cluster Configuration</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration"><span itemprop="name">Rancher Server Configuration</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">RKE2 Cluster Configuration Reference</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.8</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RKE2 Cluster Configuration Reference</h1></header><p>This section covers the configuration options that are available in Rancher for a new or existing RKE2 Kubernetes cluster.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2><p>You can configure the Kubernetes options in one of the two following ways:</p><ul><li><a href="#configuration-options-in-the-rancher-ui">Rancher UI</a>: Use the Rancher UI to select options that are commonly customized when setting up a Kubernetes cluster.</li><li><a href="#cluster-config-file-reference">Cluster Config File</a>: Instead of using the Rancher UI to choose Kubernetes options for the cluster, advanced users can create an RKE2 config file. Using a config file allows you to set many additional <a href="https://docs.rke2.io/install/configuration" target="_blank" rel="noopener noreferrer">options</a> available for an RKE2 installation.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="editing-clusters-in-the-rancher-ui">Editing Clusters in the Rancher UI<a href="#editing-clusters-in-the-rancher-ui" class="hash-link" aria-label="Direct link to Editing Clusters in the Rancher UI" title="Direct link to Editing Clusters in the Rancher UI">​</a></h2><p>The Rancher UI provides two ways to edit a cluster:</p><ol><li>With a form.</li><li>With YAML.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="editing-clusters-with-a-form">Editing Clusters with a Form<a href="#editing-clusters-with-a-form" class="hash-link" aria-label="Direct link to Editing Clusters with a Form" title="Direct link to Editing Clusters with a Form">​</a></h3><p>The form covers the most frequently needed options for clusters.</p><p>To edit your cluster,</p><ol><li>Click <strong>☰ &gt; Cluster Management</strong>.</li><li>Go to the cluster you want to configure and click <strong>⋮ &gt; Edit Config</strong>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="editing-clusters-in-yaml">Editing Clusters in YAML<a href="#editing-clusters-in-yaml" class="hash-link" aria-label="Direct link to Editing Clusters in YAML" title="Direct link to Editing Clusters in YAML">​</a></h3><p>For a complete reference of configurable options for K3s clusters in YAML, see the <a href="https://rancher.com/docs/k3s/latest/en/installation/install-options/" target="_blank" rel="noopener noreferrer">K3s documentation.</a></p><p>To edit your cluster in YAML:</p><ol><li>Click <strong>☰ &gt; Cluster Management</strong>.</li><li>Go to the cluster you want to configure and click <strong>⋮ &gt; Edit as YAML</strong>.</li><li>Edit the RKE options under the <code>rkeConfig</code> directive.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-options-in-the-rancher-ui">Configuration Options in the Rancher UI<a href="#configuration-options-in-the-rancher-ui" class="hash-link" aria-label="Direct link to Configuration Options in the Rancher UI" title="Direct link to Configuration Options in the Rancher UI">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="machine-pool-configuration">Machine Pool Configuration<a href="#machine-pool-configuration" class="hash-link" aria-label="Direct link to Machine Pool Configuration" title="Direct link to Machine Pool Configuration">​</a></h3><p>This subsection covers generic machine pool configurations. For specific infrastructure provider configurations, refer to the following:</p><ul><li><a href="/v2.8/reference-guides/cluster-configuration/downstream-cluster-configuration/machine-configuration/azure">Azure</a></li><li><a href="/v2.8/reference-guides/cluster-configuration/downstream-cluster-configuration/machine-configuration/digitalocean">DigitalOcean</a></li><li><a href="/v2.8/reference-guides/cluster-configuration/downstream-cluster-configuration/machine-configuration/amazon-ec2">EC2</a></li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="pool-name">Pool Name<a href="#pool-name" class="hash-link" aria-label="Direct link to Pool Name" title="Direct link to Pool Name">​</a></h5><p>The name of the machine pool.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="machine-count">Machine Count<a href="#machine-count" class="hash-link" aria-label="Direct link to Machine Count" title="Direct link to Machine Count">​</a></h5><p>The number of machines in the pool.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="roles">Roles<a href="#roles" class="hash-link" aria-label="Direct link to Roles" title="Direct link to Roles">​</a></h5><p>Option to assign etcd, control plane, and worker roles to nodes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="advanced">Advanced<a href="#advanced" class="hash-link" aria-label="Direct link to Advanced" title="Direct link to Advanced">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="auto-replace">Auto Replace<a href="#auto-replace" class="hash-link" aria-label="Direct link to Auto Replace" title="Direct link to Auto Replace">​</a></h5><p>The amount of time nodes can be unreachable before they are automatically deleted and replaced.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="drain-before-delete">Drain Before Delete<a href="#drain-before-delete" class="hash-link" aria-label="Direct link to Drain Before Delete" title="Direct link to Drain Before Delete">​</a></h5><p>Enables draining nodes by evicting all pods before the node is deleted.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-node-labels">Kubernetes Node Labels<a href="#kubernetes-node-labels" class="hash-link" aria-label="Direct link to Kubernetes Node Labels" title="Direct link to Kubernetes Node Labels">​</a></h5><p>Add <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" target="_blank" rel="noopener noreferrer">labels</a> to nodes to help with organization and object selection.</p><p>For details on label syntax requirements, see the <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set" target="_blank" rel="noopener noreferrer">Kubernetes documentation.</a></p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="taints">Taints<a href="#taints" class="hash-link" aria-label="Direct link to Taints" title="Direct link to Taints">​</a></h5><p>Add <a href="https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/" target="_blank" rel="noopener noreferrer">taints</a> to nodes, to prevent pods from being scheduled to or executed on the nodes, unless the pods have matching tolerations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-configuration">Cluster Configuration<a href="#cluster-configuration" class="hash-link" aria-label="Direct link to Cluster Configuration" title="Direct link to Cluster Configuration">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="basics">Basics<a href="#basics" class="hash-link" aria-label="Direct link to Basics" title="Direct link to Basics">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-version">Kubernetes Version<a href="#kubernetes-version" class="hash-link" aria-label="Direct link to Kubernetes Version" title="Direct link to Kubernetes Version">​</a></h5><p>The version of Kubernetes installed on your cluster nodes. Rancher packages its own version of Kubernetes based on <a href="https://github.com/rancher/hyperkube" target="_blank" rel="noopener noreferrer">hyperkube</a>.</p><p>For more detail, see <a href="/v2.8/getting-started/installation-and-upgrade/upgrade-and-roll-back-kubernetes">Upgrading Kubernetes</a>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="container-network-provider">Container Network Provider<a href="#container-network-provider" class="hash-link" aria-label="Direct link to Container Network Provider" title="Direct link to Container Network Provider">​</a></h5><p>The <a href="https://kubernetes.io/docs/concepts/cluster-administration/networking/" target="_blank" rel="noopener noreferrer">Network Provider</a> that the cluster uses.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>After you launch the cluster, you cannot change your network provider. Therefore, choose which network provider you want to use carefully, as Kubernetes doesn&#x27;t allow switching between network providers. Once a cluster is created with a network provider, changing network providers would require you to tear down the entire cluster and all its applications.</p></div></div><p>Out of the box, Rancher is compatible with the following network providers:</p><ul><li><a href="https://github.com/projectcalico/canal" target="_blank" rel="noopener noreferrer">Canal</a></li><li><a href="https://cilium.io/" target="_blank" rel="noopener noreferrer">Cilium</a>*</li><li><a href="https://docs.projectcalico.org/v3.11/introduction/" target="_blank" rel="noopener noreferrer">Calico</a></li><li><a href="https://github.com/k8snetworkplumbingwg/multus-cni" target="_blank" rel="noopener noreferrer">Multus</a></li></ul><p>*<!-- --> When using <a href="#project-network-isolation">project network isolation</a> in the <a href="/v2.8/faq/container-network-interface-providers#cilium">Cilium CNI</a>, it is possible to enable cross-node ingress routing. Click the <a href="/v2.8/faq/container-network-interface-providers#ingress-routing-across-nodes-in-cilium">CNI provider docs</a> to learn more.</p><p>For more details on the different networking providers and how to configure them, please view our <a href="https://docs.rke2.io/install/network_options" target="_blank" rel="noopener noreferrer">RKE2 documentation</a>.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="dual-stack-networking">Dual-stack Networking<a href="#dual-stack-networking" class="hash-link" aria-label="Direct link to Dual-stack Networking" title="Direct link to Dual-stack Networking">​</a></h6><p><a href="https://docs.rke2.io/install/network_options#dual-stack-configuration" target="_blank" rel="noopener noreferrer">Dual-stack</a> networking is supported for all CNI providers. To configure RKE2 in dual-stack mode, set valid IPv4/IPv6 CIDRs for your <a href="#cluster-cidr">Cluster CIDR</a> and/or <a href="#service-cidr">Service CIDR</a>.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="dual-stack-additional-configuration">Dual-stack Additional Configuration<a href="#dual-stack-additional-configuration" class="hash-link" aria-label="Direct link to Dual-stack Additional Configuration" title="Direct link to Dual-stack Additional Configuration">​</a></h6><p>When using <code>cilium</code> or <code>multus,cilium</code> as your container network interface provider, ensure the <strong>Enable IPv6 Support</strong> option is also enabled.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="cloud-provider">Cloud Provider<a href="#cloud-provider" class="hash-link" aria-label="Direct link to Cloud Provider" title="Direct link to Cloud Provider">​</a></h5><p>You can configure a <a href="/v2.8/how-to-guides/new-user-guides/kubernetes-clusters-in-rancher-setup/set-up-cloud-providers">Kubernetes cloud provider</a>. If you want to use dynamically provisioned <a href="/v2.8/how-to-guides/new-user-guides/manage-clusters/create-kubernetes-persistent-storage">volumes and storage</a> in Kubernetes, typically you must select the specific cloud provider in order to use it. For example, if you want to use Amazon EBS, you would need to select the <code>aws</code> cloud provider.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If the cloud provider you want to use is not listed as an option, you will need to use the <a href="#cluster-config-file-reference">config file option</a> to configure the cloud provider. Please reference <a href="https://rancher.com/docs/rke/latest/en/config-options/cloud-providers/" target="_blank" rel="noopener noreferrer">this documentation</a> on how to configure the cloud provider.</p></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="default-pod-security-policy">Default Pod Security Policy<a href="#default-pod-security-policy" class="hash-link" aria-label="Direct link to Default Pod Security Policy" title="Direct link to Default Pod Security Policy">​</a></h5><p>The default <a href="/v2.8/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/create-pod-security-policies">pod security policy</a> for the cluster. Please refer to the <a href="https://docs.rke2.io/security/pod_security_policies" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> on the specifications of each available policy.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="pod-security-admission-configuration-template">Pod Security Admission Configuration Template<a href="#pod-security-admission-configuration-template" class="hash-link" aria-label="Direct link to Pod Security Admission Configuration Template" title="Direct link to Pod Security Admission Configuration Template">​</a></h5><p>The default <a href="/v2.8/how-to-guides/new-user-guides/authentication-permissions-and-global-configuration/psa-config-templates">pod security admission configuration template</a> for the cluster.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="worker-cis-profile">Worker CIS Profile<a href="#worker-cis-profile" class="hash-link" aria-label="Direct link to Worker CIS Profile" title="Direct link to Worker CIS Profile">​</a></h5><p>Select a <a href="/v2.8/how-to-guides/advanced-user-guides/cis-scan-guides">CIS benchmark</a> to validate the system configuration against.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="project-network-isolation">Project Network Isolation<a href="#project-network-isolation" class="hash-link" aria-label="Direct link to Project Network Isolation" title="Direct link to Project Network Isolation">​</a></h5><p>If your network provider allows project network isolation, you can choose whether to enable or disable inter-project communication.</p><p>Project network isolation is available if you are using any RKE2 network plugin that supports the enforcement of Kubernetes network policies, such as Canal.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="coredns">CoreDNS<a href="#coredns" class="hash-link" aria-label="Direct link to CoreDNS" title="Direct link to CoreDNS">​</a></h5><p>By default, <a href="https://coredns.io/" target="_blank" rel="noopener noreferrer">CoreDNS</a> is installed as the default DNS provider. If CoreDNS is not installed, an alternate DNS provider must be installed yourself. Refer to the <a href="https://docs.rke2.io/networking#coredns" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for additional CoreDNS configurations.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-ingress">NGINX Ingress<a href="#nginx-ingress" class="hash-link" aria-label="Direct link to NGINX Ingress" title="Direct link to NGINX Ingress">​</a></h5><p>If you want to publish your applications in a high-availability configuration, and you&#x27;re hosting your nodes with a cloud-provider that doesn&#x27;t have a native load-balancing feature, enable this option to use NGINX Ingress within the cluster. Refer to the <a href="https://docs.rke2.io/networking#nginx-ingress-controller" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for additional configuration options.</p><p>Refer to the <a href="https://docs.rke2.io/networking#nginx-ingress-controller" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for additional configuration options.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-server">Metrics Server<a href="#metrics-server" class="hash-link" aria-label="Direct link to Metrics Server" title="Direct link to Metrics Server">​</a></h5><p>Option to enable or disable <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/metrics-server/" target="_blank" rel="noopener noreferrer">Metrics Server</a>.</p><p>Each cloud provider capable of launching a cluster using RKE2 can collect metrics and monitor for your cluster nodes. Enable this option to view your node metrics from your cloud provider&#x27;s portal.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="add-on-config">Add-On Config<a href="#add-on-config" class="hash-link" aria-label="Direct link to Add-On Config" title="Direct link to Add-On Config">​</a></h4><p>Additional Kubernetes manifests, managed as an <a href="https://kubernetes.io/docs/concepts/cluster-administration/addons/" target="_blank" rel="noopener noreferrer">Add-on</a>, to apply to the cluster on startup. Refer to the <a href="https://docs.rke2.io/helm#automatically-deploying-manifests-and-helm-charts" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for details.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="agent-environment-vars">Agent Environment Vars<a href="#agent-environment-vars" class="hash-link" aria-label="Direct link to Agent Environment Vars" title="Direct link to Agent Environment Vars">​</a></h4><p>Option to set environment variables for <a href="/v2.8/how-to-guides/new-user-guides/launch-kubernetes-with-rancher/about-rancher-agents">Rancher agents</a>. The environment variables can be set using key value pairs. Refer to the <a href="https://docs.rke2.io/reference/linux_agent_config" target="_blank" rel="noopener noreferrer">RKE2 documentation</a> for more details.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="etcd">etcd<a href="#etcd" class="hash-link" aria-label="Direct link to etcd" title="Direct link to etcd">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-snapshots">Automatic Snapshots<a href="#automatic-snapshots" class="hash-link" aria-label="Direct link to Automatic Snapshots" title="Direct link to Automatic Snapshots">​</a></h5><p>Option to enable or disable recurring etcd snapshots. If enabled, users have the option to configure the frequency of snapshots. For details, refer to the <a href="https://docs.rke2.io/backup_restore#creating-snapshots" target="_blank" rel="noopener noreferrer">RKE2 documentation</a>. Note that with RKE2, snapshots are stored on each etcd node. This varies from RKE1 which only stores one snapshot per cluster.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="metrics">Metrics<a href="#metrics" class="hash-link" aria-label="Direct link to Metrics" title="Direct link to Metrics">​</a></h5><p>Option to choose whether to expose etcd metrics to the public or only within the cluster.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="networking">Networking<a href="#networking" class="hash-link" aria-label="Direct link to Networking" title="Direct link to Networking">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-cidr">Cluster CIDR<a href="#cluster-cidr" class="hash-link" aria-label="Direct link to Cluster CIDR" title="Direct link to Cluster CIDR">​</a></h5><p>IPv4 and/or IPv6 network CIDRs to use for pod IPs (default: 10.42.0.0/16).</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="dual-stack-networking-1">Dual-stack Networking<a href="#dual-stack-networking-1" class="hash-link" aria-label="Direct link to Dual-stack Networking" title="Direct link to Dual-stack Networking">​</a></h6><p>To configure <a href="https://docs.rke2.io/install/network_options#dual-stack-configuration" target="_blank" rel="noopener noreferrer">dual-stack</a> mode, enter a valid IPv4/IPv6 CIDR. For example <code>10.42.0.0/16,2001:cafe:42:0::/56</code>.</p><p><a href="#dual-stack-additional-configuration">Additional configuration</a> is required when using <code>cilium</code> or <code>multus,cilium</code> as your <a href="#container-network-provider">container network</a> interface provider.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="service-cidr">Service CIDR<a href="#service-cidr" class="hash-link" aria-label="Direct link to Service CIDR" title="Direct link to Service CIDR">​</a></h5><p>IPv4/IPv6 network CIDRs to use for service IPs (default: 10.43.0.0/16).</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="dual-stack-networking-2">Dual-stack Networking<a href="#dual-stack-networking-2" class="hash-link" aria-label="Direct link to Dual-stack Networking" title="Direct link to Dual-stack Networking">​</a></h6><p>To configure <a href="https://docs.rke2.io/install/network_options#dual-stack-configuration" target="_blank" rel="noopener noreferrer">dual-stack</a> mode, enter a valid IPv4/IPv6 CIDR. For example <code>10.42.0.0/16,2001:cafe:42:0::/56</code>.</p><p><a href="#dual-stack-additional-configuration">Additional configuration</a> is required when using <code>cilium </code> or <code>multus,cilium</code> as your <a href="#container-network-provider">container network</a> interface provider.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-dns">Cluster DNS<a href="#cluster-dns" class="hash-link" aria-label="Direct link to Cluster DNS" title="Direct link to Cluster DNS">​</a></h5><p>IPv4 Cluster IP for coredns service. Should be in your service-cidr range (default: 10.43.0.10).</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-domain">Cluster Domain<a href="#cluster-domain" class="hash-link" aria-label="Direct link to Cluster Domain" title="Direct link to Cluster Domain">​</a></h5><p>Select the domain for the cluster. The default is <code>cluster.local</code>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="nodeport-service-port-range">NodePort Service Port Range<a href="#nodeport-service-port-range" class="hash-link" aria-label="Direct link to NodePort Service Port Range" title="Direct link to NodePort Service Port Range">​</a></h5><p>Option to change the range of ports that can be used for <a href="https://kubernetes.io/docs/concepts/services-networking/service/#nodeport" target="_blank" rel="noopener noreferrer">NodePort services</a>. The default is <code>30000-32767</code>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="truncate-hostnames">Truncate Hostnames<a href="#truncate-hostnames" class="hash-link" aria-label="Direct link to Truncate Hostnames" title="Direct link to Truncate Hostnames">​</a></h5><p>Option to truncate hostnames to 15 characters or less. You can only set this field during the initial creation of the cluster. You can&#x27;t enable or disable the 15 character limit after cluster creation.</p><p>This setting only affects machine-provisioned clusters. Since custom clusters set hostnames during their own node creation process, which occurs outside of Rancher, this field doesn&#x27;t restrict custom cluster hostname length.</p><p>Truncating hostnames in a cluster improves compatibility with Windows-based systems. Although Kubernetes allows hostnames up to 63 characters in length, systems that use NetBIOS restrict hostnames to 15 characters or less.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="tls-alternate-names">TLS Alternate Names<a href="#tls-alternate-names" class="hash-link" aria-label="Direct link to TLS Alternate Names" title="Direct link to TLS Alternate Names">​</a></h5><p>Add hostnames or IPv4/IPv6 addresses as Subject Alternative Names on the server TLS cert.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="authorized-cluster-endpoint">Authorized Cluster Endpoint<a href="#authorized-cluster-endpoint" class="hash-link" aria-label="Direct link to Authorized Cluster Endpoint" title="Direct link to Authorized Cluster Endpoint">​</a></h5><p>Authorized Cluster Endpoint can be used to directly access the Kubernetes API server, without requiring communication through Rancher.</p><p>This is enabled by default in Rancher-launched Kubernetes clusters, using the IP of the node with the <code>controlplane</code> role and the default Kubernetes self signed certificates.</p><p>For more detail on how an authorized cluster endpoint works and why it is used, refer to the <a href="/v2.8/reference-guides/rancher-manager-architecture/communicating-with-downstream-user-clusters#4-authorized-cluster-endpoint">architecture section.</a></p><p>We recommend using a load balancer with the authorized cluster endpoint. For details, refer to the <a href="/v2.8/reference-guides/rancher-manager-architecture/architecture-recommendations#architecture-for-an-authorized-cluster-endpoint-ace">recommended architecture section.</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="registries">Registries<a href="#registries" class="hash-link" aria-label="Direct link to Registries" title="Direct link to Registries">​</a></h4><p>Select the image repository to pull Rancher images from. For more details and configuration options, see the <a href="https://docs.rke2.io/install/containerd_registry_configuration" target="_blank" rel="noopener noreferrer">RKE2 documentation</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-strategy">Upgrade Strategy<a href="#upgrade-strategy" class="hash-link" aria-label="Direct link to Upgrade Strategy" title="Direct link to Upgrade Strategy">​</a></h4><h5 class="anchor anchorWithStickyNavbar_LWe7" id="control-plane-concurrency">Control Plane Concurrency<a href="#control-plane-concurrency" class="hash-link" aria-label="Direct link to Control Plane Concurrency" title="Direct link to Control Plane Concurrency">​</a></h5><p>Select how many nodes can be upgraded at the same time. Can be a fixed number or percentage.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="worker-concurrency">Worker Concurrency<a href="#worker-concurrency" class="hash-link" aria-label="Direct link to Worker Concurrency" title="Direct link to Worker Concurrency">​</a></h5><p>Select how many nodes can be upgraded at the same time. Can be a fixed number or percentage.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="drain-nodes-control-plane">Drain Nodes (Control Plane)<a href="#drain-nodes-control-plane" class="hash-link" aria-label="Direct link to Drain Nodes (Control Plane)" title="Direct link to Drain Nodes (Control Plane)">​</a></h5><p>Option to remove all pods from the node prior to upgrading.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="drain-nodes-worker-nodes">Drain Nodes (Worker Nodes)<a href="#drain-nodes-worker-nodes" class="hash-link" aria-label="Direct link to Drain Nodes (Worker Nodes)" title="Direct link to Drain Nodes (Worker Nodes)">​</a></h5><p>Option to remove all pods from the node prior to upgrading.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-1">Advanced<a href="#advanced-1" class="hash-link" aria-label="Direct link to Advanced" title="Direct link to Advanced">​</a></h4><p>Option to set kubelet options for different nodes. For available options, refer to the <a href="https://kubernetes.io/docs/reference/command-line-tools-reference/kubelet/" target="_blank" rel="noopener noreferrer">Kubernetes documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cluster-config-file-reference">Cluster Config File Reference<a href="#cluster-config-file-reference" class="hash-link" aria-label="Direct link to Cluster Config File Reference" title="Direct link to Cluster Config File Reference">​</a></h2><p>Editing clusters in YAML allows you to set the <a href="https://docs.rke2.io/install/configuration" target="_blank" rel="noopener noreferrer">options available</a> in an RKE2 installation, including those already listed in <a href="#configuration-options-in-the-rancher-ui">Configuration Options in the Rancher UI</a>, as well as set Rancher-specific parameters.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><b>Example Cluster Config File Snippet</b></summary><div><div class="collapsibleContent_i85q"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> provisioning.cattle.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">cloudCredentialSecretName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cattle</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">global</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">cc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">s879v</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">kubernetesVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1.25.12+rke2r1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">localClusterAuthEndpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">rkeConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">additionalManifest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">chartValues</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">rke2-calico</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">etcd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">snapshotRetention</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">snapshotScheduleCron</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 0 </span><span class="token important">*/5</span><span class="token plain"> * * *</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machineGlobalConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">cni</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> calico</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">disable-kube-proxy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">etcd-expose-metrics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">profile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">kube-apiserver-arg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> audit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">policy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">file=/etc/rancher/rke2/user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">audit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">policy.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> audit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">path=/etc/rancher/rke2/user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">audit.logs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machinePools</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">controlPlaneRole</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">etcdRole</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">machineConfigRef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Amazonec2Config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> nc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">pool1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">pwl5h</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> pool1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">quantity</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">unhealthyNodeTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 0s</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">workerRole</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machineSelectorConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">protect-kernel-defaults</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machineSelectorFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">fileSources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">configMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">secret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> audit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">policy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> audit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">policy</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                  </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /etc/rancher/rke2/user</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">audit</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">policy.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">machineLabelSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">matchLabels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">rke.cattle.io/control-plane-role</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;true&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">registries</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">upgradeStrategy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">controlPlaneConcurrency</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">controlPlaneDrainOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">deleteEmptyDirData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">gracePeriod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">-1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">ignoreDaemonSets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">120</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">workerConcurrency</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">workerDrainOptions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">deleteEmptyDirData</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">gracePeriod</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">-1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">ignoreDaemonSets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">120</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="additionalmanifest">additionalManifest<a href="#additionalmanifest" class="hash-link" aria-label="Direct link to additionalManifest" title="Direct link to additionalManifest">​</a></h3><p>Specify additional manifests to deliver to the control plane nodes.</p><p>The value is a String, and will be placed at the path <code>/var/lib/rancher/rke2/server/manifests/rancher/addons.yaml</code> on target nodes.</p><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">additionalManifest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Namespace</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">xxxx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you want to customize system charts, you should use the <code>chartValues</code> field as described below.</p><p>Alternatives, such as using a HelmChartConfig to customize the system charts via <code>additionalManifest</code>, can cause unexpected behavior, due to having multiple HelmChartConfigs for the same chart.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chartvalues">chartValues<a href="#chartvalues" class="hash-link" aria-label="Direct link to chartValues" title="Direct link to chartValues">​</a></h3><p>Specify the values for the system charts installed by RKE2.</p><p>For more information about how RKE2 manges packaged components, please refer to <a href="https://docs.rke2.io/helm" target="_blank" rel="noopener noreferrer">RKE2 documentation</a>.</p><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">chartValues</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">chart-name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="machineglobalconfig">machineGlobalConfig<a href="#machineglobalconfig" class="hash-link" aria-label="Direct link to machineGlobalConfig" title="Direct link to machineGlobalConfig">​</a></h3><p>Specify RKE2 configurations. Any configuration change made here will apply to every node. The configuration options available in the <a href="https://docs.rke2.io/reference/server_config" target="_blank" rel="noopener noreferrer">standalone version of RKE2</a> can be applied here.</p><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">machineGlobalConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">etcd-arg</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> key1=value1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> key2=value2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are some configuration options that can&#x27;t be changed when provisioning via Rancher:</p><ul><li>data-dir (folder to hold state), which defaults to <code>/var/lib/rancher/rke2</code>.</li></ul><p>To make it easier to put files on nodes beforehand, Rancher expects the following values to be included in the configuration, while RKE2 expects the values to be entered as file paths:</p><ul><li>audit-policy-file</li><li>cloud-provider-config</li><li>private-registry</li></ul><p>Rancher delivers the files to the path <code>/var/lib/rancher/rke2/etc/config-files/&lt;option&gt;</code> in target nodes, and sets the proper options in the RKE2 server.</p><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> provisioning.cattle.io/v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">rkeConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machineGlobalConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">audit-policy-file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> audit.k8s.io/v1 </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Policy </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">rules</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">level</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> RequestResponse</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">resources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">group</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token key atrule">resources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="machineselectorconfig">machineSelectorConfig<a href="#machineselectorconfig" class="hash-link" aria-label="Direct link to machineSelectorConfig" title="Direct link to machineSelectorConfig">​</a></h3><p><code>machineSelectorConfig</code> is the same as <a href="#machineglobalconfig"><code>machineGlobalConfig</code></a> except that a <a href="#kubernetes-node-labels">label</a> selector can be specified with the configuration. The configuration will only be applied to nodes that match the provided label selector.</p><p>Multiple <code>config</code> entries are allowed, each specifying their own <code>machineLabelSelector</code>. A user can specify <code>matchExpressions</code>, <code>matchLabels</code>, both, or neither. Omitting the <code>machineLabelSelector</code> section of this field has the same effect as putting the config in the <code>machineGlobalConfig</code> section.</p><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">machineSelectorConfig</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">config-key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machineLabelSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">matchExpressions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">operator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> string </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Valid operators are In, NotIn, Exists and DoesNotExist.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">value1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">value2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">matchLabels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">key1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">key2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> value2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="machineselectorfiles">machineSelectorFiles<a href="#machineselectorfiles" class="hash-link" aria-label="Direct link to machineSelectorFiles" title="Direct link to machineSelectorFiles">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>This feature is available in Rancher v2.7.2 and later.</p></div></div><p>Deliver files to nodes, so that the files can be in place before initiating RKE2 server or agent processes.
The content of the file is retrieved from either a secret or a configmap. The target nodes are filtered by the <code>machineLabelSelector</code>.</p><p>Example :</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">machineSelectorFiles</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">fileSources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">secret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">put</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">the</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">nodes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">permissions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 644 (optional)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> base64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">encoded</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">of</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">the</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">content (optional)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">secret</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machineLabelSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">matchExpressions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">operator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> string </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Valid operators are In, NotIn, Exists and DoesNotExist.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">value1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">value2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">matchLabels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">key1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">key2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> value2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">fileSources</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">configMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">items</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">put</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">the</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">nodes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">permissions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 644 (optional)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">              </span><span class="token key atrule">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> base64</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">encoded</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">hash</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">of</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">the</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">content (optional)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">configmap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">name</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">machineLabelSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">matchExpressions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">operator</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> string </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Valid operators are In, NotIn, Exists and DoesNotExist.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">          </span><span class="token key atrule">values</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">value1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">value2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">matchLabels</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">key1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> value1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">key2</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> value2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The secret or configmap must meet the following requirements:</p><ol><li>It must be in the <code>fleet-default</code> namespace where the Cluster object exists.</li><li>It must have the annotation <code>rke.cattle.io/object-authorized-for-clusters: cluster-name1,cluster-name2</code>, which permits the target clusters to use it.</li></ol><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Rancher Dashboard provides an easy-to-use form for creating the secret or configmap.</p></div></div><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">audit-policy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    IyBMb2cgYWxsIHJlcXVlc3RzIGF0IHRoZSBNZXRhZGF0YSBsZXZlbC4KYXBpVmVyc2lvbjogYXVkaXQuazhzLmlvL3YxCmtpbmQ6IFBvbGljeQpydWxlczoKLSBsZXZlbDogTWV0YWRhdGE=</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">annotations</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">rke.cattle.io/object-authorized-for-clusters</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cluster1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> name1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">namespace</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> fleet</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">default</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-19T21:50:40.000Z">Jan 19, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RKE Cluster Configuration Reference</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.8/reference-guides/cluster-configuration/rancher-server-configuration/k3s-cluster-configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">K3s Cluster Configuration Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#editing-clusters-in-the-rancher-ui" class="table-of-contents__link toc-highlight">Editing Clusters in the Rancher UI</a><ul><li><a href="#editing-clusters-with-a-form" class="table-of-contents__link toc-highlight">Editing Clusters with a Form</a></li><li><a href="#editing-clusters-in-yaml" class="table-of-contents__link toc-highlight">Editing Clusters in YAML</a></li></ul></li><li><a href="#configuration-options-in-the-rancher-ui" class="table-of-contents__link toc-highlight">Configuration Options in the Rancher UI</a><ul><li><a href="#machine-pool-configuration" class="table-of-contents__link toc-highlight">Machine Pool Configuration</a></li><li><a href="#cluster-configuration" class="table-of-contents__link toc-highlight">Cluster Configuration</a></li></ul></li><li><a href="#cluster-config-file-reference" class="table-of-contents__link toc-highlight">Cluster Config File Reference</a><ul><li><a href="#additionalmanifest" class="table-of-contents__link toc-highlight">additionalManifest</a></li><li><a href="#chartvalues" class="table-of-contents__link toc-highlight">chartValues</a></li><li><a href="#machineglobalconfig" class="table-of-contents__link toc-highlight">machineGlobalConfig</a></li><li><a href="#machineselectorconfig" class="table-of-contents__link toc-highlight">machineSelectorConfig</a></li><li><a href="#machineselectorfiles" class="table-of-contents__link toc-highlight">machineSelectorFiles</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9fd75920.js"></script>
<script src="/assets/js/main.f986f7dc.js"></script>
</body>
</html>